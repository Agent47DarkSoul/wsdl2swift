import Foundation
import AEXML

class <%= name %> {
<% properties.each do |property| %>
    <%= render :property_definition, property: property %>
<% end %>

    init(<%= render :function_arguments, properties: properties %>) {
<% properties.each do |property| %>
        <%= render :property_initialization, property: property %>
<% end %>
    }

    func xmlNode(tagName: String? = "Body") -> AEXMLELement {
        let node = AEXMLELement(tagName)

<% properties.each do |property| %>
<% if property.inbuilt_type? %>
        node.addChild("<%= property.xml_name %>", value: self.<%= property.name %>)
<% else %>
        node.addChild(self.<%= property.name %>.xmlNode("<%= property.xml_name %>"))
<% end %>
<% end %>

        return node
    }
}
